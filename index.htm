<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width; height=device-height; initial-scale=1.0; maximum-scale=1.0; "/>
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
        <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
    </head>
    <body>
        <style>
            #Logo
            {
                display: block;
                margin: 1em auto 0;
                width: 45%;
            }
            .center-wrapper
            {
                text-align: center;
            }
            #helptext
            {
                font-size:80%
            }
            .ranger
            {
                width:90%;margin-left: 5%;"
            }
            .ui-grid-b
            {
                width:90%;margin-left: 5%;"
            }
            
            </style>
        
        <div data-role="page" id="one" >
            <div class="heads" id="headone" data-theme="b" data-role="header">
                <h1 class="headerone" id="header_1">Ohm's Law</h1>
                <h2 style = "margin:0" class="headertwo" id="header_2">Move a slider to change it's value</h2>
            </div>
            
            <div class="ranger" id="voltage_range" data-role="fieldcontain" >
                <label for="voltage_range">Voltage in Volts </label>
                <input id="voltage_range" name="slider" value="0" min="0" max="500" data-highlight="true" data-theme="c" data-mini="true" type="range">
                    </div>
            
            <div class="ranger" id="current_range" data-role="fieldcontain">
                <label for="current_range">Current in Amps </label>
                <input id="current_range" name="slider" value="0" min="0" max="250" data-highlight="true" data-theme="c" data-mini="true" type="range">
                    </div>
            
            <div class="ranger" id="ohms_range" type="number" data-role="fieldcontain">
                <label for="ohms_range">Resistance in Ohms</label>
                <input id="ohms_range"  name="slider" value="0" min="0" max="250" data-highlight="true" data-theme="c" data-mini="true" type="range">
                    </div>
            
            <div class="ranger" id="watts_range" data-role="fieldcontain">
                <label for="watts_range">Power in Watts</label>
                <input id="watts_range" name="slider" value="0" min="0" max="250" data-highlight="true" data-theme="c" data-mini="true" type="range">
                    </div>
            
            <div data-role="content" data-role="controlgroup" class="ui-grid-b">
                <div class="ui-block-a">
                    <button data-inline="true" id="clear"  data-role="button" data-theme="b" data-mini="true" data-type="horizontal">Clear</button>
                </div>
                <div class="ui-block-b">
                    <button data-inline="true" id="solve"  data-role="button" data-theme="b" data-mini="true" data-type="horizontal">Solve</button>
                </div>
                <div class="ui-block-c">
                    <a data-inline="true" href="#two" data-role="button" data-theme="b" data-mini="true" data-type="horizontal">Help</a>
                </div>
            </div>
            
        </div>
        
        <div data-role="page" id="two">
            <div class="heads" id="headtwo" data-theme="b" data-role="header">
                <h1 class="headerwo" id="header_2">Ohm's Law Help</h1>
            </div>
            <a> <img id="Logo" src='logo.jpg'> </a>
            <div data-role="content" class= "center-wrapper">
            </div>
            <div data-role="content">
                <div data-role="fieldcontain">
                    <p name="" id="helptext"  >The four values on the screen can be computed by supplying at least two of them and tapping the "solve" button. The values can be set by touching and dragging the slider controls or by tapping the values box and entering the amount. To reset the screen and start over tap the "Clear" button.
                    </p>
                </div>
            </div>
            <div data-role="content">
                <a href="#one" id="backbutton" data-role="button" data-transition="fade"  data-theme="b" >Back</a>
            </div>
            
        </div>
    </body>
    
    <script type="text/javascript">
        
        $(document).ready(function()
                          {
                          //alert("init");
                          
                          
                          });
        
        
        var Volts=0;
        var Amps=0;
        var Ohms=0;
        var Watts=0;
        var NumFields=0;
        
        $("#solve").click(function (e)
                          {
                          e.stopImmediatePropagation();
                          e.preventDefault();
                          Process();
                          });
        
        $("#clear").click(function (e)
                          {
                          e.stopImmediatePropagation();
                          e.preventDefault();
                          Volts=0;
                          $("input#voltage_range").val(0);
                          $("input#voltage_range").slider("refresh");
                          Amps=0;
                          $("input#current_range").val(0)
                          $("input#current_range").slider("refresh");
                          Watts=0;
                          $("input#watts_range").val(0);
                          $("input#watts_range").slider("refresh");
                          Ohms=0;
                          $("input#ohms_range").val(0);
                          $("input#ohms_range").slider("refresh");
                          });
        
        $("#voltage_range").change(function (e)
                                   {
                                   e.stopImmediatePropagation();
                                   e.preventDefault();
                                   EnableDisableCalculate();
                                   });
        
        $("#current_range").change(function (e)
                                   {
                                   e.stopImmediatePropagation();
                                   e.preventDefault();
                                   EnableDisableCalculate();
                                   });
        
        $("#ohms_range").change(function (e)
                                {
                                e.stopImmediatePropagation();
                                e.preventDefault();
                                EnableDisableCalculate();
                                });
        
        $("#watts_range").change(function (e)
                                 {
                                 e.stopImmediatePropagation();
                                 e.preventDefault();
                                 EnableDisableCalculate();
                                 });
        
        function Process()
        {
            Volts=$("input#voltage_range").val();
            Amps=$("input#current_range").val();
            Ohms=$("input#ohms_range").val();
            Watts=$("input#watts_range").val();
            
            
            //alert(Volts);
            //alert(Amps);
            //alert(Ohms);
            //alert(Watts);
            
            if (NumFields>=2)
            {
                
            }
            else
            {
                alert("Please supply at least two values")
            }
            
            //alert("Slider value = " + SliderValue);
            
            if (Volts > 0 && Ohms > 0)
            {
                Amps =Volts/Ohms;
                Watts=Volts*Amps;
            }
            if (Volts > 0 && Amps > 0)
            {
                Ohms =Volts/Amps;
                Watts =Volts*Amps;
            }
            if (Volts > 0 && Watts > 0)
            {
                Amps =Watts/Volts;
                Ohms=Volts/Amps;
            }
            if (Ohms > 0 && Amps > 0)
            {
                Volts =Amps*Ohms;
                Watts=Amps*Amps*Ohms;
            }
            if (Amps > 0 && Watts > 0)
            {
                Volts =Watts/Amps;
                Ohms=Volts/Amps;
            }
            if (Ohms > 0 && Watts > 0)
            {
                Amps=Math.sqrt((Watts/Ohms),2);
                Volts=Amps*Ohms;
            }
            
            Volts = Math.round(Volts*100);
            Volts = Volts/100;
            Amps = Math.round(Amps*100);
            Amps = Amps/100;
            Ohms = Math.round(Ohms*100);
            Ohms = Ohms/100;
            Watts = Math.round(Watts*100);
            Watts = Watts/100;
            
            Volts.toFixed(2);
            Amps.toFixed(2);
            Ohms.toFixed(2);
            Watts.toFixed(0);
            
            
            $("input#voltage_range").val(Volts);
            $("input#current_range").val(Amps);
            $("input#ohms_range").val(Ohms);
            $("input#watts_range").val(Watts);
            
        }
        
        function EnableDisableCalculate()
        {
            NumFields=0;
            
            Volts=$("input#voltage_range").val();
            Amps=$("input#current_range").val();
            Ohms=$("input#ohms_range").val();
            Watts=$("input#watts_range").val();
            
            if (Volts>0)NumFields++;
            
            if (Amps>0)NumFields++;
            
            if (Ohms>0)NumFields++;
            
            if (Watts>0)NumFields++;
            
        }
        
        
        
        </script>
    